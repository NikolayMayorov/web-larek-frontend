# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура

Проект имеет MVP архитектуру

## Ключевые типы данных

### Интерфейс IProduct.

Определяет свойства товара.

#### Поля интерфейса:

- `id: string` - уникальный идентификатор товара.
- `description: string` - подробное текстовое описание товара.
- `image: string` - путь или URL к изображению товара.
- `title: string` - название товара.
- `category: string` - категория, к которой относится товар.
- `price: number | null` - цена товара.

### Перечисление PaymentMethod.

Определяет доступные способы оплаты:

- `Card` - оплата картой.
- `Cash` - оплата наличными.

## Модели данных (Слой данных)

### 1. Класс CatalogModel

Определяет список всех товаров.
Конструктор не принимает аргументы.

#### Методы класса:

- `getProduct(id: string): IProduct | undefined` - получение товара по id
- `getProducts(): IProduct[]` - получение массива всех товаров
- `setProducts(products: IProduct[])` - задает массив товаров

#### Поля класса:

- `protected products: IProduct[]` - массив товаров

### 2. Класс BasketModel

Определяет состояние и методы корзины.
Конструктор не принимает аргументы.

#### Методы класса:

- `addProduct(product: IProduct): void` - добавляет товар в корзину.
- `removeProduct(product: IProduct): void` - удаляет товар из корзины.
- `getProducts(): IProduct[]` - возвращает массив товаров в корзине.
- `getProductCount(): number` - возвращает общее количество товаров в корзине.
- `getTotalPrice(): number` - возвращает общую стоимость всех товаров в корзине.
- `clearBasket(): void` - очищает массив товаров в корзине.

#### Поля класса:

- `protected products: IProduct[]` - массив товаров в корзине.

### 3. Класс OrderDetailModel

Определяет параметры для оформления заказа.

#### Методы класса:

- `getPaymentMethod(): string` - возвращает способ оплаты.
- `setPaymentMethod(method: string): void` - задает способ оплаты.
- `getAddress(): string - возвращает адрес` доставки.
- `setAddress(address: string): void` - задает адрес доставки.
- `getEmail(): string` - возвращает адрес электронной почты.
- `setEmail(email: string): void` - задает адрес электронной почты.
- `getPhone(): string` - возвращает номер телефона.
- `setPhone(phone: string): void` - задает номер телефона.

#### Поля класса:

- `paymentMethod: string` - способ оплаты (например, "credit card", "PayPal", "cash")
- `address: string` - адрес доставки (строка с максимальной длиной 255 символов).
- `email: string` - адрес электронной почты (должен быть в формате действительного адреса электронной почты).
- `phone: string` - номер телефона (должен быть в формате "+<код страны><номер>", например, "+1234567890").

## Представления (Слой представлений)

1. Класс CatalogView
   Служит для отображения всех товаров. Выводит в контейнер карточки всех товаров.
2. Класс ProductCardView
   Служит для отображения карточки товара. Выводит в контейнер выбранный товар.
   - Класс имеет такие методы:
     addToBasket, delFromBasket - добавление и удаления товара из корзины
3. Класс BasketView
   Служит для отображения списка товаров в корзине.
   - Класс имеет такие методы:
     placeOrder - открывает форму оформления заказа
4. Класс OrderDetailView
   Служит для отображения и ввода параметров для оформления заказа.
   - Класс имеет такие методы:
     buy - оплачивание заказа (отправка заказа)

## Presenter (Слой связывания представлений и моделей)

1. Класс Presenter
   - Класс имеет такие методы:
     addProduct, removeProduct - добавление, удаление и получение товаров
     getProductCount, getTotalPrice - получения кол-ва товаров и общей стоимости товаров
   - Класс имеет такие поля:
     catalog, basket, orderDetail - модели данных каталога, корзины и параметров заказа
     catalogView, productView, basketView, orderDetailView - представления
